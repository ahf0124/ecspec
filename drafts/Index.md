
## 配送


### 配送日時の指定
- 配送日時の指定ルール(いつからいつまで)
- 商品によって調達ルートが異なる場合、選択可能な日付の変更を行う場合がある
- 時刻については、配達業者(ヤマト、佐川)の都合でタイムテーブルが異なる。


### 店頭受取
- 配送先が店頭受取にすることも一般的になっている。
- 店頭受取の場合、決済はオンラインと店頭のどちらで行うか、が仕様の調整ポイントとしてある
- 店頭受取の場合、在庫は店頭からか、EC倉庫からかなど色々な形が考えられるので業務を設計する必要がある。
- 店頭受取の場合は、店頭向けにピッキングリストを出力することもある。





# 顧客
- 会員登録、ゲスト購入
- どのような項目を持つか
- 通常のECで持たないような特殊な項目はあるか
- ランクや属性などを持つか

### 顧客の外部連携 
- POS連携＝POSの会員と統合するか
- なんらかのCRMツールと連携するか
- メルマガ、DM
- FacebookやTwitterでのログイン

### マイページの機能
- お気に入り
- ウィッシュリスト
- メルマガはあるか、メルマガツールとの連携方法
- メルマガ、セグメント抽出
- 会員証を出力することもある

### コミュニケーションチャネル
- LINE、LINEビジネスコネクトの場合
- Twitter(Twitterでの告知が売り上げの大半という事業もある)
- Facebook

### 顧客の移行 
- 顧客情報の移行はあるか
- どの項目を移行するか、パスワードは移行しない、住所は移行しない等。
- 顧客の住所情報のフォーマットは以降可能な形式か
- パスワード移行をするか、不可逆なパスワードは移行できない
	


## 外部システム連携
主に注文情報を基幹システムや在庫を管理する倉庫システム、社外システムに連携する
- 注文情報は基幹システムや複数モールのまとめツール等何からのシステムに連携するか
- 複数モールのまとめツール TEMPOSTR,通販する蔵　としては

特に重要なものがステータス管理。
出荷時に売上計上するから
キャンセル時に売上情報を取り消すから


# 商品
- 商品のジャンル、デジタルコンテンツ
- SKUが必要な商品か
　- ある商品を購入した際にプレゼントするような商品があるか
- セット商品はあるか
★楽天の項目を見て、他に何がありうるか記載する
- 商品は基幹システムと連携するか
- フォーマットはどうするか
- 在庫はECの身での管理か、物流倉庫と連携するか

## SKU

## 商品を外部連携した場合
商品の項目例を記載する。下記は楽天の商品情報に近い形の項目である。

- CSVなどで外部システムからデータをもらうのが一般的
- コントロールカラム 新規修正削除をコントロールするカラムが必要
- 商品番号	いわゆる品番
- キャッチコピー	
- 商品名	
- 販売価格	実際の販売価格(税込にする、しない)
- 表示価格	実際の販売価格(税込にする、しない)
- 消費税　消費税額を別途管理する場合	
- 送料	送料有、送料無料
- 個別送料	予め指定した送料以外に指定する場合の値、直接金額を入力する
- 代引料	
- のし対応	対応する、しない
- 商品説明文	=HTMLの場合が多い
- 商品画像URL,ALT　（1～9）
- 掲載期間指定＝掲載可能な期間
- 販売期間指定＝購入可能な期間※予約商品の場合は、予約受付期間"
- 注文受付数	商品カートに入れられる数を指定する値。1なら一回の注文で1個しかカートに入れられない。
- 在庫タイプ	"0=通常在庫設定 (JANが1つしかない商品、カラーやサイズの無い商品)1= 項目選択肢別 (別途CSVで縦軸・横軸で設定した値に沿う在庫数を入力)"
- 在庫数	上記「在庫タイプ」の設定で、単体のJANで成立する商品の場合は、ここに在庫数を入れる
- 在庫数表示	○10個以上　△5個以上　×売切れ　4個以下は在庫数表示
  0＝在庫数を表示   1＝在庫数を表示しない  2＝在庫設定しない 3＝在庫数が○個以下になったら「△」の印を表示する(具体的な数字を入力)
- 検索キーワード(表示しないが検索にかかるようにする)
- 予約商品発売日	
- あす楽配送管理番号	"あす楽→翌日配達
- サイズ表リンク	
- 在庫切れ時の注文受付	
- 在庫あり時	納期区分
- 在庫切れ時 納期区分
- 配送方法セット管理番号	"　1：宅配便のみ　2：宅配便、ネコポス　3：宅配便、ネコポス、EMS　4：宅配便、EMS"



# 要件定義
## 運用
- 連携先の全体像を網羅する
- 稼働後の運用体制がどうなるか確認する

## デザイン
### デザインデータ作成
- Adobe XDなどコラボレーションツールの活用
- HTMLコーディングをだれが行うか
- 画面が動的に動く場合は、事前にデザイン側と挙動の調整をする
- 画像データ(サムネイル、移行、容量、CDN)

### HTMLコーディング
- 動的な動き
- エラーメッセージ

### システム環境
- ドメイン名
- DNS管理
- トランザクションメール配信(SMTP)
- メルマガシステムのツール検討

## 画面一覧
一般的に用意する画面の一覧を列挙する
- TOP
- カテゴリTOP
- 検索一覧
- 商品詳細
- カートTOP
- 配送先の設定
- 支払い方法の設定
- 購入確認画面
- 購入完了
- 会員登録
- 会員登録確認
- 会員登録完了
- マイページTOP


## メール
- 登録用認証メール
- 登録完了メール
- 受注確認メール
- 出荷通知メール
- ご注文キャンセルメール

### ECのバックオフィスのセキュリティーポリシーについて	"ECのバックオフィス(管理画面)について
- ログインのID/パスワードのポリシー
- 文字数・文字種・桁数・有効期間・再設定の方法
- 管理者アカウントの管理方法
- 担当者の追加・削除の方法（御社に都度依頼か、システム担当者で行うか）
- 管理者アカウントの権限パターン
　　例：出荷情報などの個人情報を含むデータのダウンロード権限のコントロールは可能か？
　　機能と権限のマトリクス表などはありますでしょうか。　　
- アクセス制限方法
- 管理画面にアクセスするのにグローバルIPなどで制御可能かなど。

キャンセルフロー
予約商品
切り捨て切り上げ
在庫管理
テンポスター、通販する蔵
不正クレカ
納品明細
税率
軽減税率


返品作業
受注生産
注文のキャンセルはユーザはサイト上で行うか
注文変更に関して
注文内容の変更は買い直し
いや、受け付ける
購入上限金額、支払い方法別で分かれる
お届け日、時間
ヤマト、佐川
着火通知
 予約商品がある場合は、お届け指定日を指定できない

予約販売の開始日～出荷日（発売日＋α）までの最大期間、期間がながいとクレカのオーソリの最大保有期間を超える
カードの登録で回避する？

ポイント付与のタイミングに関して
商品の出荷完了から商品の返品を許容する期間（2週間など）が過ぎてからポイントを付与する


在庫管理、洗い替え

当初は在庫だけリアルタイムでデータを取得頂く想定でしたが、
価格も期間限定セール等のキャンペーンにより金額が変動するので一緒に取得する必要がありそうです。

EC側で用意するAPIの想定は、
JSON or JSONP 形式で在庫数・価格情報を返却するもので、
APIの呼び出しパラメータは、品番のリストとなるのではと思ってます。

CMS
コンテンツ管理とカートを分ける事も可能

通販基幹
ピッキングリスト
他モール連携


## WMS連携
- ECで受注したデータの取得
- 商品出荷時、受注ステータスを出荷済に更新、送り状伝票番号を登録
-  在庫の更新
- 受注キャンセル・返品のケースの連携

- セット商品の考慮
- 商品A(在庫100)　商品B(在庫50) 、セット商品C(商品A＋商品B＝つまり在庫は50)
- 商品Bが単体で売れた場合、商品BとCの在庫を一つずつ減らす

### 特定商取引


=============================
■ セット割について
指定した複数商品(品番)に対して、N点目の商品だけを【固定金額値引】【OFF率値引】で値引きする方法です。
N点目の商品についての定義は、価格が一番低い商品とします。
詳細仕様は以下のとおりです。
例）
N点目：2点目
セット割仕様：固定金額値引 200円
値下げ対象商品：
商品A　/　商品B　/　商品C
・商品Aと商品Bを1点ずつ購入した場合
商品A 価格:1000円　→ (値引き200円) 800円
商品B 価格:2000円
※ 例えば商品価格が同額の場合、特に値下げする優先度は他にありません。
どれを値下げ対象にして頂いても問題ありません。
例）
N点目：2点目
セット割仕様：OFF率値引 30%OFF
値下げ対象商品：
商品A　/　商品B　/　商品C
・商品Aと商品Bを1点ずつ購入した場合
商品A 価格:1000円　→ (値引き300円) 700円
商品B 価格:2000円
例）
N点目：2点目
セット割仕様：固定金額値引 200円
値下げ対象商品：
商品A　/　商品B　/　商品C
・商品Aと商品Bと商品Cを1点ずつ購入した場合
商品A 価格:1000円
商品B 価格:2000円
商品C 価格:500円　→　(値引き200円) 300円
※ 3点の場合は2点セットは1組と考えて、対象商品中一番価格の低い商品を値下げする。
例）
N点目：2点目
セット割仕様：固定金額値引 200円
値下げ対象商品：
商品A　/　商品B　/　商品C
・商品Aと商品Cを1点、商品Bを2点購入した場合
商品A 価格:1000円　→ (値引き200円) 800円
商品B 価格:2000円
商品B 価格:2000円
商品C 価格:500円　→　(値引き200円) 300円
※ 4点の場合は2点セットは2組と考えて、価格の低い2商品を値下げする。


=============================
■ まとめ割について
指定した複数商品(品番)に対して、N点購入していたら設定した【固定金額】とする値引きです。
例）
N点：2点
まとめ割仕様：固定金額 1500円
値下げ対象商品：
商品A　/　商品B　/　商品D
・商品Aを2点購入した場合
商品A 価格:1000円　→ (値引き250円) 750円
商品A 価格:1000円　→ (値引き250円) 750円
例）
N点：2点
まとめ割仕様：固定金額 1600円
値下げ対象商品：
商品A　/　商品B　/　商品D
・商品Aと商品Bと商品Dを1点ずつ購入した場合
商品A 価格:1000円　→ (値引き466円) 534円
商品B 価格:2000円　→ (値引き933円+1円) 1066円
商品D 価格:3000円
※ 商品金額が低いN点(2点)を対象とする。
固定金額が1600円、合計金額3000円に対して値下げ金額は1400円。
商品AとBの金額比で値下げ金額を分配する。
端数が生じた場合は、金額の多い方に追加する。
例）
N点：2点
まとめ割仕様：固定金額 1500円
値下げ対象商品：
商品A　/　商品B　/　商品C
・商品Aを2点購入した場合
商品A 価格:1000円　→ (値引き250円) 750円
商品A 価格:1000円　→ (値引き250円) 750円
商品B 価格:2000円　→ (値引き1400円) 600円
商品D 価格:3000円　→ (値引き2100円) 900円
※ 4点購入した場合、N=2ならまとめ割対象は2組として計算して問題ありません。
4点トータルで3000円と計算するか、まとめ割1500円が2組として計算するかどちらでも結構です。

